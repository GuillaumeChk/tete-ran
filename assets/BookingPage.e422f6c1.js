import{u as ia,a as da,b as ca,c as va}from"./QTabs.24747190.js";import{c as qe,h as lt,e as fa,d as ma}from"./render.aeb3b3ee.js";import{u as ha,d as ga,a as ya,b as Da,c as ba}from"./use-panel.9d8869b4.js";import{h as b,c as p,ac as Bt,ad as $t,ae as Ma,r as H,w as He,W as Fe,g as ot,af as pa,t as _t,q as _a,D as wa,E as ae,F as Oe,G as q,H as x,J as V,M as P,K as B,N as De,I as u,R as W,S as Je,P as Ya,O as xa,u as wt}from"./index.99cbd99a.js";import{Q as G}from"./QBtn.dad1e4a2.js";import{u as rt,a as st}from"./use-prevent-scroll.b593bc64.js";import{u as qa,a as Va,b as Sa,Q as ka,c as ce}from"./QForm.a5c2ac28.js";import{p as F,d as Ca}from"./format.73f16907.js";import{Q as Ta,a as Ha,b as Yt,c as Be,d as Fa,C as xt}from"./ClosePopup.652561cb.js";import{Q as qt}from"./QDialog.5357f6fb.js";import{Q as Oa}from"./QSpinner.bbc61544.js";import{Q as Ia}from"./QPage.d255df86.js";import{g as za,d as Vt,a as Ba,c as $a,b as We,T as St,s as Ea}from"./index.29c9d017.js";import"./QIcon.b452112d.js";import"./uid.42677368.js";import"./use-timeout.86cf5e67.js";import"./vm.0711697f.js";import"./touch.3df10340.js";import"./selection.a07af543.js";var kt=qe({name:"QTab",props:ia,emits:da,setup(e,{slots:a,emit:o}){const{renderTab:l}=ca(e,a,o);return()=>l("div")}}),Ct=qe({name:"QTabPanel",props:ha,setup(e,{slots:a}){return()=>b("div",{class:"q-tab-panel",role:"tabpanel"},lt(a.default))}});const me=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Aa(e,a,o){return Object.prototype.toString.call(e)==="[object Date]"&&(o=e.getDate(),a=e.getMonth()+1,e=e.getFullYear()),Qa(ut(e,a,o))}function Tt(e,a,o){return At(Na(e,a,o))}function Pa(e){return ja(e)===0}function Ae(e,a){return a<=6?31:a<=11||Pa(e)?30:29}function ja(e){const a=me.length;let o=me[0],l,i,d,y,c;if(e<o||e>=me[a-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<a&&(l=me[c],i=l-o,!(e<l));c+=1)o=l;return y=e-o,i-y<6&&(y=y-i+z(i+4,33)*33),d=ee(ee(y+1,33)-1,4),d===-1&&(d=4),d}function Et(e,a){const o=me.length,l=e+621;let i=-14,d=me[0],y,c,D,C,h;if(e<d||e>=me[o-1])throw new Error("Invalid Jalaali year "+e);for(h=1;h<o&&(y=me[h],c=y-d,!(e<y));h+=1)i=i+z(c,33)*8+z(ee(c,33),4),d=y;C=e-d,i=i+z(C,33)*8+z(ee(C,33)+3,4),ee(c,33)===4&&c-C===4&&(i+=1);const _=z(l,4)-z((z(l,100)+1)*3,4)-150,A=20+i-_;return a||(c-C<6&&(C=C-c+z(c+4,33)*33),D=ee(ee(C+1,33)-1,4),D===-1&&(D=4)),{leap:D,gy:l,march:A}}function Na(e,a,o){const l=Et(e,!0);return ut(l.gy,3,l.march)+(a-1)*31-z(a,7)*(a-7)+o-1}function Qa(e){const a=At(e).gy;let o=a-621,l,i,d;const y=Et(o,!1),c=ut(a,3,y.march);if(d=e-c,d>=0){if(d<=185)return i=1+z(d,31),l=ee(d,31)+1,{jy:o,jm:i,jd:l};d-=186}else o-=1,d+=179,y.leap===1&&(d+=1);return i=7+z(d,30),l=ee(d,30)+1,{jy:o,jm:i,jd:l}}function ut(e,a,o){let l=z((e+z(a-8,6)+100100)*1461,4)+z(153*ee(a+9,12)+2,5)+o-34840408;return l=l-z(z(e+100100+z(a-8,6),100)*3,4)+752,l}function At(e){let a=4*e+139361631;a=a+z(z(4*e+183187720,146097)*3,4)*4-3908;const o=z(ee(a,1461),4)*5+308,l=z(ee(o,153),5)+1,i=ee(z(o,153),12)+1;return{gy:z(a,1461)-100100+z(8-i,6),gm:i,gd:l}}function z(e,a){return~~(e/a)}function ee(e,a){return e-~~(e/a)*a}const Ra=["gregorian","persian"],La={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ra.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ua=["update:modelValue"];function ve(e){return e.year+"/"+F(e.month)+"/"+F(e.day)}function Za(e,a){const o=p(()=>e.disable!==!0&&e.readonly!==!0),l=p(()=>o.value===!0?0:-1),i=p(()=>{const c=[];return e.color!==void 0&&c.push(`bg-${e.color}`),e.textColor!==void 0&&c.push(`text-${e.textColor}`),c.join(" ")});function d(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function y(c){const D=new Date,C=c===!0?null:0;if(e.calendar==="persian"){const h=Aa(D);return{year:h.jy,month:h.jm,day:h.jd}}return{year:D.getFullYear(),month:D.getMonth()+1,day:D.getDate(),hour:C,minute:C,second:C,millisecond:C}}return{editable:o,tabindex:l,headerClass:i,getLocale:d,getCurrentDate:y}}const Pt=864e5,Ja=36e5,tt=6e4,jt="YYYY-MM-DDTHH:mm:ss.SSSZ",Wa=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Xa=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Xe={};function Ga(e,a){const o="("+a.days.join("|")+")",l=e+o;if(Xe[l]!==void 0)return Xe[l];const i="("+a.daysShort.join("|")+")",d="("+a.months.join("|")+")",y="("+a.monthsShort.join("|")+")",c={};let D=0;const C=e.replace(Xa,_=>{switch(D++,_){case"YY":return c.YY=D,"(-?\\d{1,2})";case"YYYY":return c.YYYY=D,"(-?\\d{1,4})";case"M":return c.M=D,"(\\d{1,2})";case"MM":return c.M=D,"(\\d{2})";case"MMM":return c.MMM=D,y;case"MMMM":return c.MMMM=D,d;case"D":return c.D=D,"(\\d{1,2})";case"Do":return c.D=D++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return c.D=D,"(\\d{2})";case"H":return c.H=D,"(\\d{1,2})";case"HH":return c.H=D,"(\\d{2})";case"h":return c.h=D,"(\\d{1,2})";case"hh":return c.h=D,"(\\d{2})";case"m":return c.m=D,"(\\d{1,2})";case"mm":return c.m=D,"(\\d{2})";case"s":return c.s=D,"(\\d{1,2})";case"ss":return c.s=D,"(\\d{2})";case"S":return c.S=D,"(\\d{1})";case"SS":return c.S=D,"(\\d{2})";case"SSS":return c.S=D,"(\\d{3})";case"A":return c.A=D,"(AM|PM)";case"a":return c.a=D,"(am|pm)";case"aa":return c.aa=D,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return o;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return c.Z=D,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return c.ZZ=D,"(Z|[+-]\\d{2}\\d{2})";case"X":return c.X=D,"(-?\\d+)";case"x":return c.x=D,"(-?\\d{4,})";default:return D--,_[0]==="["&&(_=_.substring(1,_.length-1)),_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),h={map:c,regex:new RegExp("^"+C)};return Xe[l]=h,h}function Nt(e,a){return e!==void 0?e:a!==void 0?a.date:Ma.date}function Ht(e,a=""){const o=e>0?"-":"+",l=Math.abs(e),i=Math.floor(l/60),d=l%60;return o+F(i)+a+F(d)}function Ka(e,a,o){let l=e.getFullYear(),i=e.getMonth();const d=e.getDate();return a.year!==void 0&&(l+=o*a.year,delete a.year),a.month!==void 0&&(i+=o*a.month,delete a.month),e.setDate(1),e.setMonth(2),e.setFullYear(l),e.setMonth(i),e.setDate(Math.min(d,ct(e))),a.date!==void 0&&(e.setDate(e.getDate()+o*a.date),delete a.date),e}function en(e,a,o){const l=a.year!==void 0?a.year:e[`get${o}FullYear`](),i=a.month!==void 0?a.month-1:e[`get${o}Month`](),d=new Date(l,i+1,0).getDate(),y=Math.min(d,a.date!==void 0?a.date:e[`get${o}Date`]());return e[`set${o}Date`](1),e[`set${o}Month`](2),e[`set${o}FullYear`](l),e[`set${o}Month`](i),e[`set${o}Date`](y),delete a.year,delete a.month,delete a.date,e}function it(e,a,o){const l=Qt(a),i=new Date(e),d=l.year!==void 0||l.month!==void 0||l.date!==void 0?Ka(i,l,o):i;for(const y in l){const c=Ca(y);d[`set${c}`](d[`get${c}`]()+o*l[y])}return d}function Qt(e){const a={...e};return e.years!==void 0&&(a.year=e.years,delete a.years),e.months!==void 0&&(a.month=e.months,delete a.months),e.days!==void 0&&(a.date=e.days,delete a.days),e.day!==void 0&&(a.date=e.day,delete a.day),e.hour!==void 0&&(a.hours=e.hour,delete a.hour),e.minute!==void 0&&(a.minutes=e.minute,delete a.minute),e.second!==void 0&&(a.seconds=e.second,delete a.second),e.millisecond!==void 0&&(a.milliseconds=e.millisecond,delete a.millisecond),a}function Rt(e,a,o){const l=Qt(a),i=o===!0?"UTC":"",d=new Date(e),y=l.year!==void 0||l.month!==void 0||l.date!==void 0?en(d,l,i):d;for(const c in l){const D=c.charAt(0).toUpperCase()+c.slice(1);y[`set${i}${D}`](l[c])}return y}function tn(e,a,o){const l=Lt(e,a,o),i=new Date(l.year,l.month===null?null:l.month-1,l.day===null?1:l.day,l.hour,l.minute,l.second,l.millisecond),d=i.getTimezoneOffset();return l.timezoneOffset===null||l.timezoneOffset===d?i:it(i,{minutes:l.timezoneOffset-d},1)}function Lt(e,a,o,l,i){const d={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(i!==void 0&&Object.assign(d,i),e==null||e===""||typeof e!="string")return d;a===void 0&&(a=jt);const y=Nt(o,Bt.props),c=y.months,D=y.monthsShort,{regex:C,map:h}=Ga(a,y),_=e.match(C);if(_===null)return d;let A="";if(h.X!==void 0||h.x!==void 0){const $=parseInt(_[h.X!==void 0?h.X:h.x],10);if(isNaN($)===!0||$<0)return d;const E=new Date($*(h.X!==void 0?1e3:1));d.year=E.getFullYear(),d.month=E.getMonth()+1,d.day=E.getDate(),d.hour=E.getHours(),d.minute=E.getMinutes(),d.second=E.getSeconds(),d.millisecond=E.getMilliseconds()}else{if(h.YYYY!==void 0)d.year=parseInt(_[h.YYYY],10);else if(h.YY!==void 0){const $=parseInt(_[h.YY],10);d.year=$<0?$:2e3+$}if(h.M!==void 0){if(d.month=parseInt(_[h.M],10),d.month<1||d.month>12)return d}else h.MMM!==void 0?d.month=D.indexOf(_[h.MMM])+1:h.MMMM!==void 0&&(d.month=c.indexOf(_[h.MMMM])+1);if(h.D!==void 0){if(d.day=parseInt(_[h.D],10),d.year===null||d.month===null||d.day<1)return d;const $=l!=="persian"?new Date(d.year,d.month,0).getDate():Ae(d.year,d.month);if(d.day>$)return d}h.H!==void 0?d.hour=parseInt(_[h.H],10)%24:h.h!==void 0&&(d.hour=parseInt(_[h.h],10)%12,(h.A&&_[h.A]==="PM"||h.a&&_[h.a]==="pm"||h.aa&&_[h.aa]==="p.m.")&&(d.hour+=12),d.hour=d.hour%24),h.m!==void 0&&(d.minute=parseInt(_[h.m],10)%60),h.s!==void 0&&(d.second=parseInt(_[h.s],10)%60),h.S!==void 0&&(d.millisecond=parseInt(_[h.S],10)*10**(3-_[h.S].length)),(h.Z!==void 0||h.ZZ!==void 0)&&(A=h.Z!==void 0?_[h.Z].replace(":",""):_[h.ZZ],d.timezoneOffset=(A[0]==="+"?-1:1)*(60*A.slice(1,3)+1*A.slice(3,5)))}return d.dateHash=F(d.year,6)+"/"+F(d.month)+"/"+F(d.day),d.timeHash=F(d.hour)+":"+F(d.minute)+":"+F(d.second)+A,d}function an(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function nn(e,a){return Rt(new Date,e,a)}function ln(e){const a=new Date(e).getDay();return a===0?7:a}function at(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const o=new Date(a.getFullYear(),0,4);o.setDate(o.getDate()-(o.getDay()+6)%7+3);const l=a.getTimezoneOffset()-o.getTimezoneOffset();a.setHours(a.getHours()-l);const i=(a-o)/(Pt*7);return 1+Math.floor(i)}function on(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function Ge(e,a){const o=new Date(e);return a===!0?on(o):o.getTime()}function rn(e,a,o,l={}){const i=Ge(a,l.onlyDate),d=Ge(o,l.onlyDate),y=Ge(e,l.onlyDate);return(y>i||l.inclusiveFrom===!0&&y===i)&&(y<d||l.inclusiveTo===!0&&y===d)}function sn(e,a){return it(e,a,1)}function un(e,a){return it(e,a,-1)}function re(e,a,o){const l=new Date(e),i=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":l[`${i}Month`](0);case"month":case"months":l[`${i}Date`](1);case"day":case"days":case"date":l[`${i}Hours`](0);case"hour":case"hours":l[`${i}Minutes`](0);case"minute":case"minutes":l[`${i}Seconds`](0);case"second":case"seconds":l[`${i}Milliseconds`](0)}return l}function dn(e,a,o){const l=new Date(e),i=`set${o===!0?"UTC":""}`;switch(a){case"year":case"years":l[`${i}Month`](11);case"month":case"months":l[`${i}Date`](ct(l));case"day":case"days":case"date":l[`${i}Hours`](23);case"hour":case"hours":l[`${i}Minutes`](59);case"minute":case"minutes":l[`${i}Seconds`](59);case"second":case"seconds":l[`${i}Milliseconds`](999)}return l}function cn(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(o=>{a=Math.max(a,new Date(o))}),a}function vn(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(o=>{a=Math.min(a,new Date(o))}),a}function $e(e,a,o){return(e.getTime()-e.getTimezoneOffset()*tt-(a.getTime()-a.getTimezoneOffset()*tt))/o}function dt(e,a,o="days"){const l=new Date(e),i=new Date(a);switch(o){case"years":case"year":return l.getFullYear()-i.getFullYear();case"months":case"month":return(l.getFullYear()-i.getFullYear())*12+l.getMonth()-i.getMonth();case"days":case"day":case"date":return $e(re(l,"day"),re(i,"day"),Pt);case"hours":case"hour":return $e(re(l,"hour"),re(i,"hour"),Ja);case"minutes":case"minute":return $e(re(l,"minute"),re(i,"minute"),tt);case"seconds":case"second":return $e(re(l,"second"),re(i,"second"),1e3)}}function nt(e){return dt(e,re(e,"year"),"days")+1}function fn(e){return $t(e)===!0?"date":typeof e=="number"?"number":"string"}function mn(e,a,o){const l=new Date(e);if(a){const i=new Date(a);if(l<i)return i}if(o){const i=new Date(o);if(l>i)return i}return l}function hn(e,a,o){const l=new Date(e),i=new Date(a);if(o===void 0)return l.getTime()===i.getTime();switch(o){case"second":case"seconds":if(l.getSeconds()!==i.getSeconds())return!1;case"minute":case"minutes":if(l.getMinutes()!==i.getMinutes())return!1;case"hour":case"hours":if(l.getHours()!==i.getHours())return!1;case"day":case"days":case"date":if(l.getDate()!==i.getDate())return!1;case"month":case"months":if(l.getMonth()!==i.getMonth())return!1;case"year":case"years":if(l.getFullYear()!==i.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${o}`)}return!0}function ct(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Ft(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Ot={YY(e,a,o){const l=this.YYYY(e,a,o)%100;return l>=0?F(l):"-"+F(Math.abs(l))},YYYY(e,a,o){return o!=null?o:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return F(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Ft(this.Q(e))},D(e){return e.getDate()},Do(e){return Ft(e.getDate())},DD(e){return F(e.getDate())},DDD(e){return nt(e)},DDDD(e){return F(nt(e),3)},d(e){return e.getDay()},dd(e,a){return this.dddd(e,a).slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return at(e)},ww(e){return F(at(e))},H(e){return e.getHours()},HH(e){return F(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return F(this.h(e))},m(e){return e.getMinutes()},mm(e){return F(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return F(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return F(Math.floor(e.getMilliseconds()/10))},SSS(e){return F(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,a,o,l){const i=l==null?e.getTimezoneOffset():l;return Ht(i,":")},ZZ(e,a,o,l){const i=l==null?e.getTimezoneOffset():l;return Ht(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ut(e,a,o,l,i){if(e!==0&&!e||e===1/0||e===-1/0)return;const d=new Date(e);if(isNaN(d))return;a===void 0&&(a=jt);const y=Nt(o,Bt.props);return a.replace(Wa,(c,D)=>c in Ot?Ot[c](d,y,l,i):D===void 0?c:D.split("\\]").join("]"))}function gn(e){return $t(e)===!0?new Date(e.getTime()):e}var Ee={isValid:an,extractDate:tn,buildDate:nn,getDayOfWeek:ln,getWeekOfYear:at,isBetweenDates:rn,addToDate:sn,subtractFromDate:un,adjustDate:Rt,startOfDate:re,endOfDate:dn,getMaxDate:cn,getMinDate:vn,getDateDiff:dt,getDayOfYear:nt,inferDateFormat:fn,getDateBetween:mn,isSameDate:hn,daysInMonth:ct,formatDate:Ut,clone:gn};const be=20,yn=["Calendar","Years","Months"],It=e=>yn.includes(e),Ke=e=>/^-?[\d]+\/[0-1]\d$/.test(e),xe=" \u2014 ";function fe(e){return e.year+"/"+F(e.month)}var Dn=qe({name:"QDate",props:{...La,...qa,...rt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Ke},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Ke},navigationMaxYearMonth:{type:String,validator:Ke},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:It}},emits:[...Ua,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:o}){const{proxy:l}=ot(),{$q:i}=l,d=st(e,i),{getCache:y}=ga(),{tabindex:c,headerClass:D,getLocale:C,getCurrentDate:h}=Za(e,i);let _;const A=Va(e),$=Sa(A),E=H(null),L=H(ht()),T=H(C()),se=p(()=>ht()),ne=p(()=>C()),j=p(()=>h()),M=H(gt(L.value,T.value)),U=H(e.defaultView),le=i.lang.rtl===!0?"right":"left",he=H(le.value),Ve=H(le.value),Se=M.value.year,Me=H(Se-Se%be-(Se<0?be:0)),N=H(null),Pe=p(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(d.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),ue=p(()=>e.color||"primary"),de=p(()=>e.textColor||"white"),pe=p(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),_e=p(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),K=p(()=>_e.value.filter(t=>typeof t=="string").map(t=>Qe(t,L.value,T.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),ie=p(()=>{const t=n=>Qe(n,L.value,T.value);return _e.value.filter(n=>pa(n)===!0&&n.from!==void 0&&n.to!==void 0).map(n=>({from:t(n.from),to:t(n.to)})).filter(n=>n.from.dateHash!==null&&n.to.dateHash!==null&&n.from.dateHash<n.to.dateHash)}),ge=p(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const n=Tt(t.year,t.month,t.day);return new Date(n.gy,n.gm-1,n.gd)}),ke=p(()=>e.calendar==="persian"?ve:(t,n,r)=>Ut(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),n===void 0?L.value:n,r===void 0?T.value:r,t.year,t.timezoneOffset)),Y=p(()=>K.value.length+ie.value.reduce((t,n)=>t+1+dt(ge.value(n.to),ge.value(n.from)),0)),m=p(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(N.value!==null){const r=N.value.init,v=ge.value(r);return T.value.daysShort[v.getDay()]+", "+T.value.monthsShort[r.month-1]+" "+r.day+xe+"?"}if(Y.value===0)return xe;if(Y.value>1)return`${Y.value} ${T.value.pluralDay}`;const t=K.value[0],n=ge.value(t);return isNaN(n.valueOf())===!0?xe:T.value.headerTitle!==void 0?T.value.headerTitle(n,t):T.value.daysShort[n.getDay()]+", "+T.value.monthsShort[t.month-1]+" "+t.day}),O=p(()=>K.value.concat(ie.value.map(n=>n.from)).sort((n,r)=>n.year-r.year||n.month-r.month)[0]),s=p(()=>K.value.concat(ie.value.map(n=>n.to)).sort((n,r)=>r.year-n.year||r.month-n.month)[0]),k=p(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(Y.value===0)return xe;if(Y.value>1){const t=O.value,n=s.value,r=T.value.monthsShort;return r[t.month-1]+(t.year!==n.year?" "+t.year+xe+r[n.month-1]+" ":t.month!==n.month?xe+r[n.month-1]:"")+" "+n.year}return K.value[0].year}),oe=p(()=>{const t=[i.iconSet.datetime.arrowLeft,i.iconSet.datetime.arrowRight];return i.lang.rtl===!0?t.reverse():t}),Q=p(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):T.value.firstDayOfWeek),R=p(()=>{const t=T.value.daysShort,n=Q.value;return n>0?t.slice(n,7).concat(t.slice(0,n)):t}),X=p(()=>{const t=M.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Ae(t.year,t.month)}),Zt=p(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),Z=p(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),J=p(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),je=p(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return Z.value!==null&&Z.value.year>=M.value.year&&(t.year.prev=!1,Z.value.year===M.value.year&&Z.value.month>=M.value.month&&(t.month.prev=!1)),J.value!==null&&J.value.year<=M.value.year&&(t.year.next=!1,J.value.year===M.value.year&&J.value.month<=M.value.month&&(t.month.next=!1)),t}),Ie=p(()=>{const t={};return K.value.forEach(n=>{const r=fe(n);t[r]===void 0&&(t[r]=[]),t[r].push(n.day)}),t}),vt=p(()=>{const t={};return ie.value.forEach(n=>{const r=fe(n.from),v=fe(n.to);if(t[r]===void 0&&(t[r]=[]),t[r].push({from:n.from.day,to:r===v?n.to.day:void 0,range:n}),r<v){let f;const{year:S,month:g}=n.from,w=g<12?{year:S,month:g+1}:{year:S+1,month:1};for(;(f=fe(w))<=v;)t[f]===void 0&&(t[f]=[]),t[f].push({from:void 0,to:f===v?n.to.day:void 0,range:n}),w.month++,w.month>12&&(w.year++,w.month=1)}}),t}),Ce=p(()=>{if(N.value===null)return;const{init:t,initHash:n,final:r,finalHash:v}=N.value,[f,S]=n<=v?[t,r]:[r,t],g=fe(f),w=fe(S);if(g!==te.value&&w!==te.value)return;const I={};return g===te.value?(I.from=f.day,I.includeFrom=!0):I.from=1,w===te.value?(I.to=S.day,I.includeTo=!0):I.to=X.value,I}),te=p(()=>fe(M.value)),Jt=p(()=>{const t={};if(e.options===void 0){for(let r=1;r<=X.value;r++)t[r]=!0;return t}const n=typeof e.options=="function"?e.options:r=>e.options.includes(r);for(let r=1;r<=X.value;r++){const v=te.value+"/"+F(r);t[r]=n(v)}return t}),Wt=p(()=>{const t={};if(e.events===void 0)for(let n=1;n<=X.value;n++)t[n]=!1;else{const n=typeof e.events=="function"?e.events:r=>e.events.includes(r);for(let r=1;r<=X.value;r++){const v=te.value+"/"+F(r);t[r]=n(v)===!0&&Zt.value(v)}}return t}),Xt=p(()=>{let t,n;const{year:r,month:v}=M.value;if(e.calendar!=="persian")t=new Date(r,v-1,1),n=new Date(r,v-1,0).getDate();else{const f=Tt(r,v,1);t=new Date(f.gy,f.gm-1,f.gd);let S=v-1,g=r;S===0&&(S=12,g--),n=Ae(g,S)}return{days:t.getDay()-Q.value-1,endDay:n}}),ft=p(()=>{const t=[],{days:n,endDay:r}=Xt.value,v=n<0?n+7:n;if(v<6)for(let g=r-v;g<=r;g++)t.push({i:g,fill:!0});const f=t.length;for(let g=1;g<=X.value;g++){const w={i:g,event:Wt.value[g],classes:[]};Jt.value[g]===!0&&(w.in=!0,w.flat=!0),t.push(w)}if(Ie.value[te.value]!==void 0&&Ie.value[te.value].forEach(g=>{const w=f+g-1;Object.assign(t[w],{selected:!0,unelevated:!0,flat:!1,color:ue.value,textColor:de.value})}),vt.value[te.value]!==void 0&&vt.value[te.value].forEach(g=>{if(g.from!==void 0){const w=f+g.from-1,I=f+(g.to||X.value)-1;for(let Te=w;Te<=I;Te++)Object.assign(t[Te],{range:g.range,unelevated:!0,color:ue.value,textColor:de.value});Object.assign(t[w],{rangeFrom:!0,flat:!1}),g.to!==void 0&&Object.assign(t[I],{rangeTo:!0,flat:!1})}else if(g.to!==void 0){const w=f+g.to-1;for(let I=f;I<=w;I++)Object.assign(t[I],{range:g.range,unelevated:!0,color:ue.value,textColor:de.value});Object.assign(t[w],{flat:!1,rangeTo:!0})}else{const w=f+X.value-1;for(let I=f;I<=w;I++)Object.assign(t[I],{range:g.range,unelevated:!0,color:ue.value,textColor:de.value})}}),Ce.value!==void 0){const g=f+Ce.value.from-1,w=f+Ce.value.to-1;for(let I=g;I<=w;I++)t[I].color=ue.value,t[I].editRange=!0;Ce.value.includeFrom===!0&&(t[g].editRangeFrom=!0),Ce.value.includeTo===!0&&(t[w].editRangeTo=!0)}M.value.year===j.value.year&&M.value.month===j.value.month&&(t[f+j.value.day-1].today=!0);const S=t.length%7;if(S>0){const g=7-S;for(let w=1;w<=g;w++)t.push({i:w,fill:!0})}return t.forEach(g=>{let w="q-date__calendar-item ";g.fill===!0?w+="q-date__calendar-item--fill":(w+=`q-date__calendar-item--${g.in===!0?"in":"out"}`,g.range!==void 0&&(w+=` q-date__range${g.rangeTo===!0?"-to":g.rangeFrom===!0?"-from":""}`),g.editRange===!0&&(w+=` q-date__edit-range${g.editRangeFrom===!0?"-from":""}${g.editRangeTo===!0?"-to":""}`),(g.range!==void 0||g.editRange===!0)&&(w+=` text-${g.color}`)),g.classes=w}),t}),Gt=p(()=>e.disable===!0?{"aria-disabled":"true"}:{});He(()=>e.modelValue,t=>{if(_===t)_=0;else{const n=gt(L.value,T.value);we(n.year,n.month,n)}}),He(U,()=>{E.value!==null&&l.$el.contains(document.activeElement)===!0&&E.value.focus()}),He(()=>M.value.year+"|"+M.value.month,()=>{o("navigation",{year:M.value.year,month:M.value.month})}),He(se,t=>{pt(t,T.value,"mask"),L.value=t}),He(ne,t=>{pt(L.value,t,"locale"),T.value=t});function mt(){const{year:t,month:n,day:r}=j.value,v={...M.value,year:t,month:n,day:r},f=Ie.value[fe(v)];(f===void 0||f.includes(v.day)===!1)&&Le(v),Ne(v.year,v.month)}function Kt(t){It(t)===!0&&(U.value=t)}function ea(t,n){["month","year"].includes(t)&&(t==="month"?Dt:Re)(n===!0?-1:1)}function Ne(t,n){U.value="Calendar",we(t,n)}function ta(t,n){if(e.range===!1||!t){N.value=null;return}const r=Object.assign({...M.value},t),v=n!==void 0?Object.assign({...M.value},n):r;N.value={init:r,initHash:ve(r),final:v,finalHash:ve(v)},Ne(r.year,r.month)}function ht(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Qe(t,n,r){return Lt(t,n,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function gt(t,n){const r=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(r.length===0)return yt();const v=r[r.length-1],f=Qe(v.from!==void 0?v.from:v,t,n);return f.dateHash===null?yt():f}function yt(){let t,n;if(e.defaultYearMonth!==void 0){const r=e.defaultYearMonth.split("/");t=parseInt(r[0],10),n=parseInt(r[1],10)}else{const r=j.value!==void 0?j.value:h();t=r.year,n=r.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+F(n)+"/01"}}function Dt(t){let n=M.value.year,r=Number(M.value.month)+t;r===13?(r=1,n++):r===0&&(r=12,n--),we(n,r),pe.value===!0&&ze("month")}function Re(t){const n=Number(M.value.year)+t;we(n,M.value.month),pe.value===!0&&ze("year")}function aa(t){we(t,M.value.month),U.value=e.defaultView==="Years"?"Months":"Calendar",pe.value===!0&&ze("year")}function na(t){we(M.value.year,t),U.value="Calendar",pe.value===!0&&ze("month")}function la(t,n){const r=Ie.value[n];(r!==void 0&&r.includes(t.day)===!0?Ue:Le)(t)}function ye(t){return{year:t.year,month:t.month,day:t.day}}function we(t,n,r){if(Z.value!==null&&t<=Z.value.year&&((n<Z.value.month||t<Z.value.year)&&(n=Z.value.month),t=Z.value.year),J.value!==null&&t>=J.value.year&&((n>J.value.month||t>J.value.year)&&(n=J.value.month),t=J.value.year),r!==void 0){const{hour:f,minute:S,second:g,millisecond:w,timezoneOffset:I,timeHash:Te}=r;Object.assign(M.value,{hour:f,minute:S,second:g,millisecond:w,timezoneOffset:I,timeHash:Te})}const v=t+"/"+F(n)+"/01";v!==M.value.dateHash&&(he.value=M.value.dateHash<v==(i.lang.rtl!==!0)?"left":"right",t!==M.value.year&&(Ve.value=he.value),_t(()=>{Me.value=t-t%be-(t<0?be:0),Object.assign(M.value,{year:t,month:n,day:1,dateHash:v})}))}function bt(t,n,r){const v=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;_=v;const{reason:f,details:S}=Mt(n,r);o("update:modelValue",v,f,S)}function ze(t){const n=K.value[0]!==void 0&&K.value[0].dateHash!==null?{...K.value[0]}:{...M.value};_t(()=>{n.year=M.value.year,n.month=M.value.month;const r=e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():Ae(n.year,n.month);n.day=Math.min(Math.max(1,n.day),r);const v=Ye(n);_=v;const{details:f}=Mt("",n);o("update:modelValue",v,t,f)})}function Mt(t,n){return n.from!==void 0?{reason:`${t}-range`,details:{...ye(n.target),from:ye(n.from),to:ye(n.to)}}:{reason:`${t}-day`,details:ye(n)}}function Ye(t,n,r){return t.from!==void 0?{from:ke.value(t.from,n,r),to:ke.value(t.to,n,r)}:ke.value(t,n,r)}function Le(t){let n;if(e.multiple===!0)if(t.from!==void 0){const r=ve(t.from),v=ve(t.to),f=K.value.filter(g=>g.dateHash<r||g.dateHash>v),S=ie.value.filter(({from:g,to:w})=>w.dateHash<r||g.dateHash>v);n=f.concat(S).concat(t).map(g=>Ye(g))}else{const r=_e.value.slice();r.push(Ye(t)),n=r}else n=Ye(t);bt(n,"add",t)}function Ue(t){if(e.noUnset===!0)return;let n=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const r=Ye(t);t.from!==void 0?n=e.modelValue.filter(v=>v.from!==void 0?v.from!==r.from&&v.to!==r.to:!0):n=e.modelValue.filter(v=>v!==r),n.length===0&&(n=null)}bt(n,"remove",t)}function pt(t,n,r){const v=K.value.concat(ie.value).map(f=>Ye(f,t,n)).filter(f=>f.from!==void 0?f.from.dateHash!==null&&f.to.dateHash!==null:f.dateHash!==null);o("update:modelValue",(e.multiple===!0?v:v[0])||null,r)}function oa(){if(e.minimal!==!0)return b("div",{class:"q-date__header "+D.value},[b("div",{class:"relative-position"},[b(Fe,{name:"q-transition--fade"},()=>b("div",{key:"h-yr-"+k.value,class:"q-date__header-subtitle q-date__header-link "+(U.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...y("vY",{onClick(){U.value="Years"},onKeyup(t){t.keyCode===13&&(U.value="Years")}})},[k.value]))]),b("div",{class:"q-date__header-title relative-position flex no-wrap"},[b("div",{class:"relative-position col"},[b(Fe,{name:"q-transition--fade"},()=>b("div",{key:"h-sub"+m.value,class:"q-date__header-title-label q-date__header-link "+(U.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...y("vC",{onClick(){U.value="Calendar"},onKeyup(t){t.keyCode===13&&(U.value="Calendar")}})},[m.value]))]),e.todayBtn===!0?b(G,{class:"q-date__header-today self-start",icon:i.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:c.value,onClick:mt}):null])])}function Ze({label:t,type:n,key:r,dir:v,goTo:f,boundaries:S,cls:g}){return[b("div",{class:"row items-center q-date__arrow"},[b(G,{round:!0,dense:!0,size:"sm",flat:!0,icon:oe.value[0],tabindex:c.value,disable:S.prev===!1,...y("go-#"+n,{onClick(){f(-1)}})})]),b("div",{class:"relative-position overflow-hidden flex flex-center"+g},[b(Fe,{name:"q-transition--jump-"+v},()=>b("div",{key:r},[b(G,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:c.value,...y("view#"+n,{onClick:()=>{U.value=n}})})]))]),b("div",{class:"row items-center q-date__arrow"},[b(G,{round:!0,dense:!0,size:"sm",flat:!0,icon:oe.value[1],tabindex:c.value,disable:S.next===!1,...y("go+#"+n,{onClick(){f(1)}})})])]}const ra={Calendar:()=>[b("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[b("div",{class:"q-date__navigation row items-center no-wrap"},Ze({label:T.value.months[M.value.month-1],type:"Months",key:M.value.month,dir:he.value,goTo:Dt,boundaries:je.value.month,cls:" col"}).concat(Ze({label:M.value.year,type:"Years",key:M.value.year,dir:Ve.value,goTo:Re,boundaries:je.value.year,cls:""}))),b("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},R.value.map(t=>b("div",{class:"q-date__calendar-item"},[b("div",t)]))),b("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[b(Fe,{name:"q-transition--slide-"+he.value},()=>b("div",{key:te.value,class:"q-date__calendar-days fit"},ft.value.map(t=>b("div",{class:t.classes},[t.in===!0?b(G,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:c.value,...y("day#"+t.i,{onClick:()=>{sa(t.i)},onMouseover:()=>{ua(t.i)}})},t.event!==!1?()=>b("div",{class:"q-date__event bg-"+t.event}):null):b("div",""+t.i)]))))])])],Months(){const t=M.value.year===j.value.year,n=v=>Z.value!==null&&M.value.year===Z.value.year&&Z.value.month>v||J.value!==null&&M.value.year===J.value.year&&J.value.month<v,r=T.value.monthsShort.map((v,f)=>{const S=M.value.month===f+1;return b("div",{class:"q-date__months-item flex flex-center"},[b(G,{class:t===!0&&j.value.month===f+1?"q-date__today":null,flat:S!==!0,label:v,unelevated:S,color:S===!0?ue.value:null,textColor:S===!0?de.value:null,tabindex:c.value,disable:n(f+1),...y("month#"+f,{onClick:()=>{na(f+1)}})})])});return e.yearsInMonthView===!0&&r.unshift(b("div",{class:"row no-wrap full-width"},[Ze({label:M.value.year,type:"Years",key:M.value.year,dir:Ve.value,goTo:Re,boundaries:je.value.year,cls:" col"})])),b("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},r)},Years(){const t=Me.value,n=t+be,r=[],v=f=>Z.value!==null&&Z.value.year>f||J.value!==null&&J.value.year<f;for(let f=t;f<=n;f++){const S=M.value.year===f;r.push(b("div",{class:"q-date__years-item flex flex-center"},[b(G,{key:"yr"+f,class:j.value.year===f?"q-date__today":null,flat:!S,label:f,dense:!0,unelevated:S,color:S===!0?ue.value:null,textColor:S===!0?de.value:null,tabindex:c.value,disable:v(f),...y("yr#"+f,{onClick:()=>{aa(f)}})})]))}return b("div",{class:"q-date__view q-date__years flex flex-center"},[b("div",{class:"col-auto"},[b(G,{round:!0,dense:!0,flat:!0,icon:oe.value[0],tabindex:c.value,disable:v(t),...y("y-",{onClick:()=>{Me.value-=be}})})]),b("div",{class:"q-date__years-content col self-stretch row items-center"},r),b("div",{class:"col-auto"},[b(G,{round:!0,dense:!0,flat:!0,icon:oe.value[1],tabindex:c.value,disable:v(n),...y("y+",{onClick:()=>{Me.value+=be}})})])])}};function sa(t){const n={...M.value,day:t};if(e.range===!1){la(n,te.value);return}if(N.value===null){const r=ft.value.find(f=>f.fill!==!0&&f.i===t);if(e.noUnset!==!0&&r.range!==void 0){Ue({target:n,from:r.range.from,to:r.range.to});return}if(r.selected===!0){Ue(n);return}const v=ve(n);N.value={init:n,initHash:v,final:n,finalHash:v},o("rangeStart",ye(n))}else{const r=N.value.initHash,v=ve(n),f=r<=v?{from:N.value.init,to:n}:{from:n,to:N.value.init};N.value=null,Le(r===v?n:{target:n,...f}),o("rangeEnd",{from:ye(f.from),to:ye(f.to)})}}function ua(t){if(N.value!==null){const n={...M.value,day:t};Object.assign(N.value,{final:n,finalHash:ve(n)})}}return Object.assign(l,{setToday:mt,setView:Kt,offsetCalendar:ea,setCalendarTo:Ne,setEditingRange:ta}),()=>{const t=[b("div",{class:"q-date__content col relative-position"},[b(Fe,{name:"q-transition--fade"},ra[U.value])])],n=lt(a.default);return n!==void 0&&t.push(b("div",{class:"q-date__actions"},n)),e.name!==void 0&&e.disable!==!0&&$(t,"push"),b("div",{class:Pe.value,...Gt.value},[oa(),b("div",{ref:E,class:"q-date__main col column",tabindex:-1},t)])}}});const bn=["top","middle","bottom"];var et=qe({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>bn.includes(e)}},setup(e,{slots:a}){const o=p(()=>e.align!==void 0?{verticalAlign:e.align}:null),l=p(()=>{const i=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(i!==void 0?` text-${i}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>b("div",{class:l.value,style:o.value,role:"status","aria-label":e.label},fa(a.default,e.label!==void 0?[e.label]:[]))}});const Mn=["horizontal","vertical","cell","none"];var pn=qe({name:"QMarkupTable",props:{...rt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Mn.includes(e)}},setup(e,{slots:a}){const o=ot(),l=st(e,o.proxy.$q),i=p(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(l.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>b("div",{class:i.value},[b("table",{class:"q-table"},lt(a.default))])}}),_n=qe({name:"QTabPanels",props:{...ya,...rt},emits:Da,setup(e,{slots:a}){const o=ot(),l=st(e,o.proxy.$q),{updatePanelsList:i,getPanelContent:d,panelDirectives:y}=ba(),c=p(()=>"q-tab-panels q-panel-parent"+(l.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(a),ma("div",{class:c.value},d(),"pan",e.swipeable,()=>y.value))}});const wn=u("div",{class:"text-h6"},"Tarifs",-1),Yn=u("table",null,[u("tbody",null,[u("tr",null,[u("td"),u("td",null,[u("strong",null,"Membre AN")]),u("td",null,[u("strong",null,"Non-membre")])]),u("tr",null,[u("td",null,"Adultes"),u("td",null,"Fr. 16.-"),u("td",null,"Fr. 25.-")]),u("tr",null,[u("td",null,"Juniors (16-20 ans)"),u("td",null,"Fr. 10.-"),u("td",null,"Fr. 19.-")]),u("tr",null,[u("td",null,"Enfants (5-15 ans)"),u("td",null,"Fr. 9.-"),u("td",null,"Fr. 14.-")]),u("tr",null,[u("td"),u("td"),u("td")]),u("tr",null,[u("td",null,[u("strong",null,"Groupes")]),u("td",null,[u("strong",null,"1.05 \u2013 31.10")]),u("td",null,[u("strong",null,"1.11 \u2013 30.04")])]),u("tr",null,[u("td",null,"Lu \u2013 Ve"),u("td",null,"Fr. 370.-"),u("td",null,"Fr. 420.-")]),u("tr",null,[u("td",null,"Ve (14h) \u2013 Di (17h)"),u("td",null,"Fr. 790.-"),u("td",null,"Fr. 840.-")]),u("tr",null,[u("td",null,"Sa (14h) \u2013 Di (17h)"),u("td",null,"Fr. 520.-"),u("td",null,"Fr. 570.-")]),u("tr",null,[u("td"),u("td"),u("td")]),u("tr",null,[u("td",null,[u("strong",null,"Ecoles")]),u("td",null,[u("strong",null,"1.05 \u2013 31.10")]),u("td",null,[u("strong",null,"1.11 \u2013 30.04")])]),u("tr",null,[u("td",null,"Lu \u2013 Ve"),u("td",null,"Fr. 260.-"),u("td",null,"Fr. 310.-")]),u("tr",null,[u("td",null,"Ve (14h) \u2013 Di (17h)"),u("td",null,"Fr. 670.-"),u("td",null,"Fr. 720.-")]),u("tr",null,[u("td",null,"Sa (14h) \u2013 Di (17h)"),u("td",null,"Fr. 410.-"),u("td",null,"Fr. 460.-")])])],-1),xn=u("br",null,null,-1),qn={key:0},Vn={class:"q-gutter-y-sm"},Sn=u("h6",{class:"q-pt-md"},"Pr\xE9-r\xE9servation",-1),kn=u("p",null,"Consultez nos disponibilit\xE9s ci-dessous puis pr\xE9-r\xE9servez :",-1),Cn={class:"text-caption bg-grey-3 rounded q-pa-sm"},Tn=u("br",null,null,-1),Hn=u("br",null,null,-1),Fn=u("br",null,null,-1),On={key:0,class:"q-pa-sm bg-blue-6 text-white"},In=u("h6",{class:"q-pt-lg"},"Vos coordonn\xE9es",-1),zn={class:"q-pt-md"},Bn=u("div",null,"Effacer",-1),$n=u("div",null,"Valider",-1),En={key:0,class:"text-red"},An={class:"form items-center"},Pn=u("div",{class:"text-h5 text-uppercase"},"R\xE9capitulatif",-1),jn={class:"q-pl-sm"},Nn=u("h6",null,"Vos coordonn\xE9es",-1),Qn={class:"q-pl-md"},Rn=u("br",null,null,-1),Ln=u("br",null,null,-1),Un=u("br",null,null,-1),Zn=u("br",null,null,-1),Jn=u("br",null,null,-1),Wn=u("br",null,null,-1),Xn=u("br",null,null,-1),Gn={class:"q-pt-md"},Kn=u("div",{class:"text-h6"},"Votre pr\xE9-r\xE9servation",-1),el={class:"q-pl-sm"},tl=u("br",null,null,-1),al=u("br",null,null,-1),nl=u("td",null,"taxe de s\xE9jour 0.-",-1),ll={key:0,class:"q-pt-md"},ol=u("div",{class:"text-h6"},"Message :",-1),rl={class:"q-pl-md"},sl=u("div",null,"Retour",-1),ul=u("div",null,"Envoyer",-1),il={class:"wrapper items-center"},dl=u("p",{class:"text-italic text-grey-6"}," Veuillez patienter\u2026 Merci ",-1),cl=u("p",null,"Votre demande a bien \xE9t\xE9 prise en compte.",-1),vl={key:1},fl=u("p",{class:"text-italic"},"Chargement\u2026",-1),ml=u("p",null,"Si rien ne s'affiche, appelez-nous directement.",-1),hl=[fl,ml],zt=100,Il={__name:"BookingPage",setup(e){let a=H("tarifs"),o=H([]),l=H([]),i=H([]),d=H([]),y=H(!1),c=H(!0);const D=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];let C=H(!1),h=H(!1),_=H(),A=H(),$=H(),E=H(),L=H(),T=H(),se=H(),ne=H(""),j=H(),M=p(()=>({clientFirstName:A.value,clientLastName:_.value,clientAddress:$.value,clientPostalCode:E.value,clientCity:L.value,clientMail:T.value,clientPhone:se.value,people:j.value,clientMessage:ne.value,startDate:null,endDate:null}));function U(){A.value=null,_.value=null,$.value=null,E.value=null,L.value=null,T.value=null,se.value=null,j.value=null,ne.value="",o.value=null}function le(){function Y(O){function s(k){return k<10?"0"+k:k}return[s(O.getDate()),s(O.getMonth()+1),O.getFullYear()].join("/")}let m=[];return o.value.forEach(O=>{let s=O.split("/"),k=new Date(+s[2],s[1]-1,+s[0]);m.push(k)}),m.sort((O,s)=>O.getTime()-s.getTime()),{first:Y(m[0]),last:Y(m[m.length-1])}}function he(Y){let m=Y.split("/"),O=new Date(+m[2],m[1]-1,+m[0]);O.setDate(O.getDate()+1);function s(k){return k<10?"0"+k:k}return[s(O.getDate()),s(O.getMonth()+1),O.getFullYear()].join("/")}function Ve(Y){return new Date(Y)>=new Date().setDate(new Date().getDate()-1)}function Se(Y){return l.value.includes(Y)}function Me(Y){return d.value.includes(Y)}let N;function Pe(){let Y=[],m=[],O=[];N.forEach(s=>{const k={id:s.id,startDate:s.data().startDate,endDate:s.data().endDate,confirmed:s.data().confirmed};function oe(Q,R){Q.confirmed?m.push(Ee.formatDate(R,"YYYY/MM/DD")):O.push(Ee.formatDate(R,"YYYY/MM/DD")),Y.push(Ee.formatDate(R,"YYYY/MM/DD"))}if(k.endDate.seconds-k.startDate.seconds<24*60*60)oe(k,k.startDate.toDate());else{let Q=new Date(s.data().startDate.toDate()),R=(k.endDate.seconds-k.startDate.seconds)/(24*60*60);for(let X=0;X<=R;X++)oe(k,Q),Q.setDate(Q.getDate()+1)}if(s.data().allRoomsClosed===!0){let Q=new Date(s.data().startDate.toDate()),R=(s.data().endDate.seconds-s.data().startDate.seconds)/(24*60*60);for(let X=0;X<=R;X++)Y.push(Ee.formatDate(Q,"YYYY/MM/DD")),Q.setDate(Q.getDate()+1)}}),l.value=Y,i.value=m,d.value=O}const ue="http://localhost:3000",de="http://localhost:9000";async function pe(){if(M.value){y.value=!0;let Y=Date.now().toString(),m=document.getElementById("reservationResume").outerHTML,O=`

<a href="`+de+"/booking-confirm/"+Y+`">Pour confirmer la r\xE9servation, cliquer ici.</a>
`,s="R\xC9SERVATION : "+_.value+" "+A.value+" "+le().first+" ";const k={clientMail:T.value,reservation:m,mailSubject:s,linkToConfirm:O};console.log("tentative d'envoi du mail"),(await fetch(ue+"/send-pre-reservation-mail-sctdr",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(k)})).ok?console.log("mail envoy\xE9"):console.log("mail non envoy\xE9");let Q={...M.value,autoCalculatedPrice:ge.value,paid:!1,confirmed:!1,full:!1};if(o.value){let R=le().first.split("/");Q.startDate=St.fromDate(new Date(R[2],R[1]-1,R[0])),R=le().last.split("/"),Q.endDate=St.fromDate(new Date(R[2],R[1]-1,R[0]))}await Ea(Vt(We,"calendar",Y),Q),console.log(Q),c.value=!1}}let _e=H();_a(async()=>{const Y=await za(Vt(We,"settings","bookingStatus"));_e.value=Y.data().bookingSystemActive,N=await Ba($a(We,"calendar")),Pe()});let K=function(Y,m){for(var O=[],s=new Date(Y);s<=new Date(m);s.setDate(s.getDate()+1))O.push(new Date(s));return O},ie=p(()=>{let Y=[];if(o.value&&o.value.length>=2){let m=[];o.value.forEach(s=>{let k=s.split("/"),oe=new Date(+k[2],k[1]-1,+k[0]);m.push(oe)}),m.sort((s,k)=>s.getTime()-k.getTime()),K(m[0],m[m.length-1]).forEach(()=>{Y.push(zt)})}else o.value&&o.value.length===1?Y.push(zt):Y=[0];return console.log(Y),Y}),ge=p(()=>ie.value.reduce((Y,m)=>Y+m,0));function ke(){const Y=document.querySelectorAll("button .bg-red");console.log(Y),Y.forEach(m=>{m.parentElement.parentElement.disabled=!0})}return(Y,m)=>{const O=wa("router-link");return ae(),Oe(Ia,{class:"wrapper q-pa-md"},{default:q(()=>[x(va,{modelValue:V(a),"onUpdate:modelValue":m[0]||(m[0]=s=>P(a)?a.value=s:a=s),dense:"",style:{color:"#395875"}},{default:q(()=>[x(kt,{name:"tarifs",label:"Tarifs"}),x(kt,{name:"reservation",label:"R\xE9servation"})]),_:1},8,["modelValue"]),x(_n,{modelValue:V(a),"onUpdate:modelValue":m[19]||(m[19]=s=>P(a)?a.value=s:a=s),animated:"",onTransition:m[20]||(m[20]=s=>ke())},{default:q(()=>[x(Ct,{name:"tarifs",class:"form"},{default:q(()=>[wn,Yn,xn,x(O,{to:"tax"},{default:q(()=>[B("Taxe de s\xE9jour")]),_:1})]),_:1}),x(Ct,{name:"reservation",class:"form q-pa-none"},{default:q(()=>[V(_e)?(ae(),De("div",qn,[x(ka,{onSubmit:m[13]||(m[13]=s=>P(h)?h.value=!0:h=!0),onValidationError:m[14]||(m[14]=s=>P(C)?C.value=!0:C=!0),onValidationSuccess:m[15]||(m[15]=s=>P(C)?C.value=!1:C=!1),class:"q-gutter-y-sm q-pb-xl",greedy:""},{default:q(()=>[u("div",Vn,[Sn,kn,u("div",null,[x(Ta,{"label-slot":"",filled:"","stack-label":"",modelValue:V(o),"onUpdate:modelValue":m[2]||(m[2]=s=>P(o)?o.value=s:o=s),"lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez s\xE9lectionner une nuit"],"hide-bottom-space":""},{label:q(()=>[B(" Jour(s) ")]),control:q(()=>[x(Dn,{modelValue:V(o),"onUpdate:modelValue":m[1]||(m[1]=s=>P(o)?o.value=s:o=s),options:Ve,events:Se,"event-color":s=>Me(s)?"amber":"red","navigation-min-year-month":"2024/01","navigation-max-year-month":"2032/12",mask:"DD/MM/YYYY",flat:"",square:"",class:"q-mt-sm full-width",minimal:"",multiple:""},null,8,["modelValue","event-color"])]),_:1},8,["modelValue","rules"]),u("div",null,[u("p",Cn,[x(et,{rounded:"",color:"white"}),B("\u202F\u202FDisponible"),Tn,x(et,{rounded:"",color:"amber"}),B("\u202F\u202FPr\xE9-r\xE9serv\xE9 (disponible mais demande en cours)"),Hn,x(et,{rounded:"",color:"red"}),B("\u202F\u202FR\xE9serv\xE9/complet "),Fn])]),V(o)&&V(o).length>0?(ae(),De("div",On,W(le().first)+" \u279C "+W(he(le().last)),1)):Je("",!0),In,x(ce,{"label-slot":"",filled:"",rounded:"",modelValue:V(_),"onUpdate:modelValue":m[3]||(m[3]=s=>P(_)?_.value=s:_=s),type:"text","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer votre nom de famille"],"hide-bottom-space":""},{label:q(()=>[B(" Nom ")]),_:1},8,["modelValue","rules"]),x(ce,{"label-slot":"",filled:"",modelValue:V(A),"onUpdate:modelValue":m[4]||(m[4]=s=>P(A)?A.value=s:A=s),type:"text","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer votre pr\xE9nom"],"hide-bottom-space":""},{label:q(()=>[B(" Pr\xE9nom ")]),_:1},8,["modelValue","rules"]),x(ce,{"label-slot":"",filled:"",modelValue:V($),"onUpdate:modelValue":m[5]||(m[5]=s=>P($)?$.value=s:$=s),type:"text","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer votre pr\xE9nom"],"hide-bottom-space":""},{label:q(()=>[B(" Adresse ")]),_:1},8,["modelValue","rules"]),x(ce,{"label-slot":"",filled:"",modelValue:V(E),"onUpdate:modelValue":m[6]||(m[6]=s=>P(E)?E.value=s:E=s),type:"text",maxlength:"6","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer votre code postal"],"hide-bottom-space":""},{label:q(()=>[B(" Code postal ")]),_:1},8,["modelValue","rules"]),x(ce,{"label-slot":"",filled:"",modelValue:V(L),"onUpdate:modelValue":m[7]||(m[7]=s=>P(L)?L.value=s:L=s),type:"text","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer votre ville"],"hide-bottom-space":""},{label:q(()=>[B(" Ville ")]),_:1},8,["modelValue","rules"]),x(ce,{"label-slot":"",filled:"",modelValue:V(se),"onUpdate:modelValue":m[8]||(m[8]=s=>P(se)?se.value=s:se=s),type:"tel",maxlength:"13",mask:"##############","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer un num\xE9ro valide"],"hide-bottom-space":""},{label:q(()=>[B(" T\xE9lephone ")]),_:1},8,["modelValue","rules"]),x(ce,{"label-slot":"",filled:"",modelValue:V(T),"onUpdate:modelValue":m[9]||(m[9]=s=>P(T)?T.value=s:T=s),type:"email","lazy-rules":"ondemand",rules:[s=>s&&s.length>0||"Veuillez entrer une adresse mail valide"],"hide-bottom-space":""},{label:q(()=>[B(" Mail ")]),_:1},8,["modelValue","rules"]),x(Ha,{"label-slot":"",filled:"",modelValue:V(j),"onUpdate:modelValue":m[10]||(m[10]=s=>P(j)?j.value=s:j=s),options:D,"lazy-rules":"ondemand",rules:[s=>s&&s>0||"Veuillez saisir le nombre de personnes"],"hide-bottom-space":""},{label:q(()=>[B(" Nombre de personnes ")]),_:1},8,["modelValue","rules"]),x(ce,{modelValue:V(ne),"onUpdate:modelValue":m[11]||(m[11]=s=>P(ne)?ne.value=s:ne=s),class:"last-rounded",borderless:"","label-slot":"",autogrow:"",color:"grey-8","hide-bottom-space":""},{label:q(()=>[B("\u202F\u202F\u202F\u202FLaisser un message\u2026 ")]),_:1},8,["modelValue"])])]),u("div",zn,[x(G,{rounded:"",onClick:m[12]||(m[12]=s=>U()),flat:"",color:"primary"},{default:q(()=>[Bn]),_:1}),x(G,{rounded:"",unelevated:"",class:"q-ml-sm",type:"submit",color:"blue"},{default:q(()=>[$n]),_:1})]),V(C)?(ae(),De("p",En," Veuillez remplir correctement tous les champs. ")):Je("",!0)]),_:1}),x(qt,{persistent:!0,maximized:"",modelValue:V(h),"onUpdate:modelValue":m[17]||(m[17]=s=>P(h)?h.value=s:h=s)},{default:q(()=>[x(Yt,{class:"q-px-lg q-py-md wrapper"},{default:q(()=>[u("section",An,[x(Be,{class:"q-pb-none"},{default:q(()=>[Pn]),_:1}),x(Be,{class:"q-pt-none",id:"reservationResume"},{default:q(()=>[u("div",jn,[Nn,u("div",Qn,[B(" Pr\xE9nom : "+W(V(A)),1),Rn,B(" Nom : "+W(V(_)),1),Ln,B(" Adresse : "+W(V($)),1),Un,B(" Ville : "+W(V(L)),1),Zn,B(" Code postal : "+W(V(E)),1),Jn,B(" Mail : "+W(V(T)),1),Wn,B(" T\xE9l\xE9phone : "+W(V(se)),1),Xn])]),u("div",Gn,[Kn,u("p",el,[B(" Nombre de personnes : "+W(V(j)),1),tl,B(" Date d'arriv\xE9e : "+W(le().first)+" ",1),al,B(" Date de d\xE9part : "+W(he(le().last)),1)]),x(pn,{separator:"horizontal",flat:"",bordered:"","wrap-cells":""},{default:q(()=>[u("tbody",null,[(ae(!0),De(Ya,null,xa(V(ie),(s,k)=>(ae(),De("tr",{key:k},[u("td",null,"1 jour "+W(s)+".-",1),nl]))),128)),u("tr",null,[u("td",null," Total : "+W(V(ge))+".- CHF ",1)])])]),_:1})]),V(ne)?(ae(),De("div",ll,[ol,u("div",rl,W(V(ne)),1)])):Je("",!0)]),_:1}),x(Fa,{align:"right"},{default:q(()=>[wt((ae(),Oe(G,{flat:"",unelevated:""},{default:q(()=>[sl]),_:1})),[[xt]]),wt((ae(),Oe(G,{unelevated:"",color:"blue",onClick:m[16]||(m[16]=s=>pe())},{default:q(()=>[ul]),_:1})),[[xt]])]),_:1})])]),_:1})]),_:1},8,["modelValue"]),x(qt,{persistent:!0,modelValue:V(y),"onUpdate:modelValue":m[18]||(m[18]=s=>P(y)?y.value=s:y=s)},{default:q(()=>[x(Yt,{class:"q-px-lg q-py-md"},{default:q(()=>[u("section",il,[V(c)?(ae(),Oe(Be,{key:0},{default:q(()=>[x(Oa,{color:"blue",size:"3em"}),dl]),_:1})):(ae(),Oe(Be,{key:1},{default:q(()=>[cl,x(G,{rounded:"",unelevated:"",label:"Accueil",to:"/"})]),_:1}))])]),_:1})]),_:1},8,["modelValue"])])):(ae(),De("div",vl,hl))]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};export{Il as default};
